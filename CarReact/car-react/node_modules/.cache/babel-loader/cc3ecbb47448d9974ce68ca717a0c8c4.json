{"ast":null,"code":"/**\n * demo2.js\n * http://www.codrops.com\n *\n * Licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n * \n * Copyright 2017, Codrops\n * http://www.codrops.com\n */\n{\n  // From https://davidwalsh.name/javascript-debounce-function.\n  function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n      var context = this,\n          args = arguments;\n\n      var later = function () {\n        timeout = null;\n        if (!immediate) func.apply(context, args);\n      };\n\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) func.apply(context, args);\n    };\n  }\n\n  ;\n\n  class Slideshow {\n    constructor(el) {\n      console.log(el);\n      this.DOM = {};\n      this.DOM.el = el;\n      this.settings = {\n        animation: {\n          slides: {\n            duration: 500,\n            easing: 'easeOutQuint'\n          },\n          shape: {\n            duration: 300,\n            easing: {\n              in: 'easeOutQuint',\n              out: 'easeOutQuad'\n            }\n          }\n        },\n        frameFill: 'url(#gradient1)'\n      };\n      this.init();\n    }\n\n    init() {\n      this.DOM.slides = Array.from(this.DOM.el.querySelectorAll('.slides--images > .slide'));\n      this.slidesTotal = this.DOM.slides.length;\n      this.DOM.nav = this.DOM.el.querySelector('.slidenav');\n      this.DOM.titles = this.DOM.el.querySelector('.slides--titles');\n      this.DOM.titlesSlides = Array.from(this.DOM.titles.querySelectorAll('.slide'));\n      this.DOM.nextCtrl = this.DOM.nav.querySelector('.slidenav__item--next');\n      this.DOM.prevCtrl = this.DOM.nav.querySelector('.slidenav__item--prev');\n      this.current = 0;\n      this.createFrame();\n      this.initEvents();\n    }\n\n    createFrame() {\n      this.rect = this.DOM.el.getBoundingClientRect();\n      this.frameSize = this.rect.width / 12;\n      this.paths = {\n        initial: this.calculatePath('initial'),\n        final: this.calculatePath('final')\n      };\n      this.DOM.svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      this.DOM.svg.setAttribute('class', 'shape');\n      this.DOM.svg.setAttribute('width', '100%');\n      this.DOM.svg.setAttribute('height', '100%');\n      this.DOM.svg.setAttribute('viewbox', `0 0 ${this.rect.width} ${this.rect.height}`);\n      this.DOM.svg.innerHTML = `\n            <defs>\n            <linearGradient id=\"gradient1\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#09012d\"/>\n                <stop offset=\"100%\" stop-color=\"#0f2b73\"/>\n            </linearGradient>\n            </defs>\n            <path fill=\"${this.settings.frameFill}\" d=\"${this.paths.initial}\"/>`;\n      this.DOM.el.insertBefore(this.DOM.svg, this.DOM.titles);\n      this.DOM.shape = this.DOM.svg.querySelector('path');\n    }\n\n    updateFrame() {\n      this.paths.initial = this.calculatePath('initial');\n      this.paths.final = this.calculatePath('final');\n      this.DOM.svg.setAttribute('viewbox', `0 0 ${this.rect.width} ${this.rect.height}`);\n      this.DOM.shape.setAttribute('d', this.isAnimating ? this.paths.final : this.paths.initial);\n    }\n\n    calculatePath(path = 'initial') {\n      if (path === 'initial') {\n        return `M 0,0 0,${this.rect.height} ${this.rect.width},${this.rect.height} ${this.rect.width},0 0,0 Z M 0,0 ${this.rect.width},0 ${this.rect.width},${this.rect.height} 0,${this.rect.height} Z`;\n      } else {\n        const point1 = {\n          x: this.rect.width / 4 - 50,\n          y: this.rect.height / 4 + 50\n        };\n        const point2 = {\n          x: this.rect.width / 4 + 50,\n          y: this.rect.height / 4 - 50\n        };\n        const point3 = {\n          x: this.rect.width - point2.x,\n          y: this.rect.height - point2.y\n        };\n        const point4 = {\n          x: this.rect.width - point1.x,\n          y: this.rect.height - point1.y\n        };\n        return `M 0,0 0,${this.rect.height} ${this.rect.width},${this.rect.height} ${this.rect.width},0 0,0 Z M ${point1.x},${point1.y} ${point2.x},${point2.y} ${point4.x},${point4.y} ${point3.x},${point3.y} Z`;\n      }\n    }\n\n    initEvents() {\n      this.DOM.nextCtrl.addEventListener('click', () => this.navigate('next'));\n      this.DOM.prevCtrl.addEventListener('click', () => this.navigate('prev'));\n      window.addEventListener('resize', debounce(() => {\n        this.rect = this.DOM.el.getBoundingClientRect();\n        this.updateFrame();\n      }, 20));\n      document.addEventListener('keydown', ev => {\n        const keyCode = ev.keyCode || ev.which;\n\n        if (keyCode === 37) {\n          this.navigate('prev');\n        } else if (keyCode === 39) {\n          this.navigate('next');\n        }\n      });\n    }\n\n    navigate(dir = 'next') {\n      if (this.isAnimating) return false;\n      this.isAnimating = true;\n      const animateShapeIn = anime({\n        targets: this.DOM.shape,\n        duration: this.settings.animation.shape.duration,\n        easing: this.settings.animation.shape.easing.in,\n        d: this.paths.final\n      });\n\n      const animateSlides = () => {\n        return new Promise((resolve, reject) => {\n          const currentSlide = this.DOM.slides[this.current];\n          anime({\n            targets: currentSlide,\n            duration: this.settings.animation.slides.duration,\n            easing: this.settings.animation.slides.easing,\n            translateY: dir === 'next' ? this.rect.height : -1 * this.rect.height,\n            complete: () => {\n              currentSlide.classList.remove('slide--current');\n              resolve();\n            }\n          });\n          const currentTitleSlide = this.DOM.titlesSlides[this.current];\n          anime({\n            targets: currentTitleSlide.children,\n            duration: this.settings.animation.slides.duration,\n            easing: this.settings.animation.slides.easing,\n            delay: (t, i, total) => dir === 'next' ? i * 100 : (total - i - 1) * 100,\n            translateY: [0, dir === 'next' ? 100 : -100],\n            opacity: [1, 0],\n            complete: () => {\n              currentTitleSlide.classList.remove('slide--current');\n              resolve();\n            }\n          });\n          this.current = dir === 'next' ? this.current < this.slidesTotal - 1 ? this.current + 1 : 0 : this.current > 0 ? this.current - 1 : this.slidesTotal - 1;\n          const newSlide = this.DOM.slides[this.current];\n          newSlide.classList.add('slide--current');\n          anime({\n            targets: newSlide,\n            duration: this.settings.animation.slides.duration,\n            easing: this.settings.animation.slides.easing,\n            translateY: [dir === 'next' ? -1 * this.rect.height : this.rect.height, 0]\n          });\n          const newSlideImg = newSlide.querySelector('.slide__img');\n          anime.remove(newSlideImg);\n          anime({\n            targets: newSlideImg,\n            duration: this.settings.animation.slides.duration * 3,\n            easing: this.settings.animation.slides.easing,\n            translateY: [dir === 'next' ? -100 : 100, 0],\n            scale: [0.2, 1]\n          });\n          const newTitleSlide = this.DOM.titlesSlides[this.current];\n          newTitleSlide.classList.add('slide--current');\n          anime({\n            targets: newTitleSlide.children,\n            duration: this.settings.animation.slides.duration * 1.5,\n            easing: this.settings.animation.slides.easing,\n            delay: (t, i, total) => dir === 'next' ? i * 100 + 100 : (total - i - 1) * 100 + 100,\n            translateY: [dir === 'next' ? -100 : 100, 0],\n            opacity: [0, 1]\n          });\n        });\n      };\n\n      const animateShapeOut = () => {\n        anime({\n          targets: this.DOM.shape,\n          duration: this.settings.animation.shape.duration,\n          easing: this.settings.animation.shape.easing.out,\n          d: this.paths.initial,\n          complete: () => this.isAnimating = false\n        });\n      };\n\n      animateShapeIn.finished.then(animateSlides).then(animateShapeOut);\n    }\n\n  }\n\n  ;\n  new Slideshow(document.querySelector('.slideshow'));\n  imagesLoaded('.slide__img', {\n    background: true\n  }, () => document.body.classList.remove('loading'));\n}\n;","map":{"version":3,"sources":["D:/J0E/Programming/ITI-Graduation-Project/CarReact/car-react/src/scripts/demo6.js"],"names":["debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","Slideshow","constructor","el","console","log","DOM","settings","animation","slides","duration","easing","shape","in","out","frameFill","init","Array","from","querySelectorAll","slidesTotal","length","nav","querySelector","titles","titlesSlides","nextCtrl","prevCtrl","current","createFrame","initEvents","rect","getBoundingClientRect","frameSize","width","paths","initial","calculatePath","final","svg","document","createElementNS","setAttribute","height","innerHTML","insertBefore","updateFrame","isAnimating","path","point1","x","y","point2","point3","point4","addEventListener","navigate","window","ev","keyCode","which","dir","animateShapeIn","anime","targets","d","animateSlides","Promise","resolve","reject","currentSlide","translateY","complete","classList","remove","currentTitleSlide","children","delay","t","i","total","opacity","newSlide","add","newSlideImg","scale","newTitleSlide","animateShapeOut","finished","then","imagesLoaded","background","body"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACH,WAASA,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8BC,SAA9B,EAAyC;AACxC,QAAIC,OAAJ;AACA,WAAO,YAAW;AACjB,UAAIC,OAAO,GAAG,IAAd;AAAA,UAAoBC,IAAI,GAAGC,SAA3B;;AACA,UAAIC,KAAK,GAAG,YAAW;AACtBJ,QAAAA,OAAO,GAAG,IAAV;AACA,YAAI,CAACD,SAAL,EAAgBF,IAAI,CAACQ,KAAL,CAAWJ,OAAX,EAAoBC,IAApB;AAChB,OAHD;;AAIA,UAAII,OAAO,GAAGP,SAAS,IAAI,CAACC,OAA5B;AACAO,MAAAA,YAAY,CAACP,OAAD,CAAZ;AACAA,MAAAA,OAAO,GAAGQ,UAAU,CAACJ,KAAD,EAAQN,IAAR,CAApB;AACA,UAAIQ,OAAJ,EAAaT,IAAI,CAACQ,KAAL,CAAWJ,OAAX,EAAoBC,IAApB;AACb,KAVD;AAWG;;AAAA;;AAED,QAAMO,SAAN,CAAgB;AACZC,IAAAA,WAAW,CAACC,EAAD,EAAK;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACA,WAAKG,GAAL,GAAW,EAAX;AACA,WAAKA,GAAL,CAASH,EAAT,GAAcA,EAAd;AACA,WAAKI,QAAL,GAAgB;AACZC,QAAAA,SAAS,EAAE;AACPC,UAAAA,MAAM,EAAE;AACJC,YAAAA,QAAQ,EAAE,GADN;AAEJC,YAAAA,MAAM,EAAE;AAFJ,WADD;AAKPC,UAAAA,KAAK,EAAE;AACHF,YAAAA,QAAQ,EAAE,GADP;AAEHC,YAAAA,MAAM,EAAE;AAACE,cAAAA,EAAE,EAAE,cAAL;AAAqBC,cAAAA,GAAG,EAAE;AAA1B;AAFL;AALA,SADC;AAWZC,QAAAA,SAAS,EAAE;AAXC,OAAhB;AAaA,WAAKC,IAAL;AACH;;AACDA,IAAAA,IAAI,GAAG;AACH,WAAKV,GAAL,CAASG,MAAT,GAAkBQ,KAAK,CAACC,IAAN,CAAW,KAAKZ,GAAL,CAASH,EAAT,CAAYgB,gBAAZ,CAA6B,0BAA7B,CAAX,CAAlB;AACA,WAAKC,WAAL,GAAmB,KAAKd,GAAL,CAASG,MAAT,CAAgBY,MAAnC;AACA,WAAKf,GAAL,CAASgB,GAAT,GAAe,KAAKhB,GAAL,CAASH,EAAT,CAAYoB,aAAZ,CAA0B,WAA1B,CAAf;AACA,WAAKjB,GAAL,CAASkB,MAAT,GAAkB,KAAKlB,GAAL,CAASH,EAAT,CAAYoB,aAAZ,CAA0B,iBAA1B,CAAlB;AACA,WAAKjB,GAAL,CAASmB,YAAT,GAAwBR,KAAK,CAACC,IAAN,CAAW,KAAKZ,GAAL,CAASkB,MAAT,CAAgBL,gBAAhB,CAAiC,QAAjC,CAAX,CAAxB;AACA,WAAKb,GAAL,CAASoB,QAAT,GAAoB,KAAKpB,GAAL,CAASgB,GAAT,CAAaC,aAAb,CAA2B,uBAA3B,CAApB;AACA,WAAKjB,GAAL,CAASqB,QAAT,GAAoB,KAAKrB,GAAL,CAASgB,GAAT,CAAaC,aAAb,CAA2B,uBAA3B,CAApB;AACA,WAAKK,OAAL,GAAe,CAAf;AACA,WAAKC,WAAL;AACA,WAAKC,UAAL;AACH;;AACDD,IAAAA,WAAW,GAAG;AACV,WAAKE,IAAL,GAAY,KAAKzB,GAAL,CAASH,EAAT,CAAY6B,qBAAZ,EAAZ;AACA,WAAKC,SAAL,GAAiB,KAAKF,IAAL,CAAUG,KAAV,GAAgB,EAAjC;AACA,WAAKC,KAAL,GAAa;AACTC,QAAAA,OAAO,EAAE,KAAKC,aAAL,CAAmB,SAAnB,CADA;AAETC,QAAAA,KAAK,EAAE,KAAKD,aAAL,CAAmB,OAAnB;AAFE,OAAb;AAIA,WAAK/B,GAAL,CAASiC,GAAT,GAAeC,QAAQ,CAACC,eAAT,CAAyB,4BAAzB,EAAuD,KAAvD,CAAf;AACA,WAAKnC,GAAL,CAASiC,GAAT,CAAaG,YAAb,CAA0B,OAA1B,EAAmC,OAAnC;AACA,WAAKpC,GAAL,CAASiC,GAAT,CAAaG,YAAb,CAA0B,OAA1B,EAAkC,MAAlC;AACA,WAAKpC,GAAL,CAASiC,GAAT,CAAaG,YAAb,CAA0B,QAA1B,EAAmC,MAAnC;AACA,WAAKpC,GAAL,CAASiC,GAAT,CAAaG,YAAb,CAA0B,SAA1B,EAAqC,OAAM,KAAKX,IAAL,CAAUG,KAAM,IAAG,KAAKH,IAAL,CAAUY,MAAO,EAA/E;AACA,WAAKrC,GAAL,CAASiC,GAAT,CAAaK,SAAb,GAA0B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,KAAKrC,QAAL,CAAcQ,SAAU,QAAO,KAAKoB,KAAL,CAAWC,OAAQ,KAPhE;AAQA,WAAK9B,GAAL,CAASH,EAAT,CAAY0C,YAAZ,CAAyB,KAAKvC,GAAL,CAASiC,GAAlC,EAAuC,KAAKjC,GAAL,CAASkB,MAAhD;AACA,WAAKlB,GAAL,CAASM,KAAT,GAAiB,KAAKN,GAAL,CAASiC,GAAT,CAAahB,aAAb,CAA2B,MAA3B,CAAjB;AACH;;AACDuB,IAAAA,WAAW,GAAG;AACV,WAAKX,KAAL,CAAWC,OAAX,GAAqB,KAAKC,aAAL,CAAmB,SAAnB,CAArB;AACA,WAAKF,KAAL,CAAWG,KAAX,GAAmB,KAAKD,aAAL,CAAmB,OAAnB,CAAnB;AACA,WAAK/B,GAAL,CAASiC,GAAT,CAAaG,YAAb,CAA0B,SAA1B,EAAqC,OAAM,KAAKX,IAAL,CAAUG,KAAM,IAAG,KAAKH,IAAL,CAAUY,MAAO,EAA/E;AACA,WAAKrC,GAAL,CAASM,KAAT,CAAe8B,YAAf,CAA4B,GAA5B,EAAiC,KAAKK,WAAL,GAAmB,KAAKZ,KAAL,CAAWG,KAA9B,GAAsC,KAAKH,KAAL,CAAWC,OAAlF;AACH;;AACDC,IAAAA,aAAa,CAACW,IAAI,GAAG,SAAR,EAAmB;AAE5B,UAAKA,IAAI,KAAK,SAAd,EAA0B;AACtB,eAAQ,WAAU,KAAKjB,IAAL,CAAUY,MAAO,IAAG,KAAKZ,IAAL,CAAUG,KAAM,IAAG,KAAKH,IAAL,CAAUY,MAAO,IAAG,KAAKZ,IAAL,CAAUG,KAAM,kBAAiB,KAAKH,IAAL,CAAUG,KAAM,MAAK,KAAKH,IAAL,CAAUG,KAAM,IAAG,KAAKH,IAAL,CAAUY,MAAO,MAAK,KAAKZ,IAAL,CAAUY,MAAO,IAA7L;AACH,OAFD,MAGK;AACD,cAAMM,MAAM,GAAG;AAACC,UAAAA,CAAC,EAAE,KAAKnB,IAAL,CAAUG,KAAV,GAAgB,CAAhB,GAAkB,EAAtB;AAA0BiB,UAAAA,CAAC,EAAE,KAAKpB,IAAL,CAAUY,MAAV,GAAiB,CAAjB,GAAmB;AAAhD,SAAf;AACA,cAAMS,MAAM,GAAG;AAACF,UAAAA,CAAC,EAAE,KAAKnB,IAAL,CAAUG,KAAV,GAAgB,CAAhB,GAAkB,EAAtB;AAA0BiB,UAAAA,CAAC,EAAE,KAAKpB,IAAL,CAAUY,MAAV,GAAiB,CAAjB,GAAmB;AAAhD,SAAf;AACA,cAAMU,MAAM,GAAG;AAACH,UAAAA,CAAC,EAAE,KAAKnB,IAAL,CAAUG,KAAV,GAAgBkB,MAAM,CAACF,CAA3B;AAA8BC,UAAAA,CAAC,EAAE,KAAKpB,IAAL,CAAUY,MAAV,GAAiBS,MAAM,CAACD;AAAzD,SAAf;AACA,cAAMG,MAAM,GAAG;AAACJ,UAAAA,CAAC,EAAE,KAAKnB,IAAL,CAAUG,KAAV,GAAgBe,MAAM,CAACC,CAA3B;AAA8BC,UAAAA,CAAC,EAAE,KAAKpB,IAAL,CAAUY,MAAV,GAAiBM,MAAM,CAACE;AAAzD,SAAf;AAEA,eAAQ,WAAU,KAAKpB,IAAL,CAAUY,MAAO,IAAG,KAAKZ,IAAL,CAAUG,KAAM,IAAG,KAAKH,IAAL,CAAUY,MAAO,IAAG,KAAKZ,IAAL,CAAUG,KAAM,cAAae,MAAM,CAACC,CAAE,IAAGD,MAAM,CAACE,CAAE,IAAGC,MAAM,CAACF,CAAE,IAAGE,MAAM,CAACD,CAAE,IAAGG,MAAM,CAACJ,CAAE,IAAGI,MAAM,CAACH,CAAE,IAAGE,MAAM,CAACH,CAAE,IAAGG,MAAM,CAACF,CAAE,IAAvM;AACH;AACJ;;AACDrB,IAAAA,UAAU,GAAG;AACT,WAAKxB,GAAL,CAASoB,QAAT,CAAkB6B,gBAAlB,CAAmC,OAAnC,EAA4C,MAAM,KAAKC,QAAL,CAAc,MAAd,CAAlD;AACA,WAAKlD,GAAL,CAASqB,QAAT,CAAkB4B,gBAAlB,CAAmC,OAAnC,EAA4C,MAAM,KAAKC,QAAL,CAAc,MAAd,CAAlD;AAEAC,MAAAA,MAAM,CAACF,gBAAP,CAAwB,QAAxB,EAAkCnE,QAAQ,CAAC,MAAM;AAC7C,aAAK2C,IAAL,GAAY,KAAKzB,GAAL,CAASH,EAAT,CAAY6B,qBAAZ,EAAZ;AACA,aAAKc,WAAL;AACH,OAHyC,EAGvC,EAHuC,CAA1C;AAKAN,MAAAA,QAAQ,CAACe,gBAAT,CAA0B,SAA1B,EAAsCG,EAAD,IAAQ;AACzC,cAAMC,OAAO,GAAGD,EAAE,CAACC,OAAH,IAAcD,EAAE,CAACE,KAAjC;;AACA,YAAKD,OAAO,KAAK,EAAjB,EAAsB;AAClB,eAAKH,QAAL,CAAc,MAAd;AACH,SAFD,MAGK,IAAKG,OAAO,KAAK,EAAjB,EAAsB;AACvB,eAAKH,QAAL,CAAc,MAAd;AACH;AACJ,OARD;AASH;;AACDA,IAAAA,QAAQ,CAACK,GAAG,GAAG,MAAP,EAAe;AACnB,UAAK,KAAKd,WAAV,EAAwB,OAAO,KAAP;AACxB,WAAKA,WAAL,GAAmB,IAAnB;AAEA,YAAMe,cAAc,GAAGC,KAAK,CAAC;AACzBC,QAAAA,OAAO,EAAE,KAAK1D,GAAL,CAASM,KADO;AAEzBF,QAAAA,QAAQ,EAAE,KAAKH,QAAL,CAAcC,SAAd,CAAwBI,KAAxB,CAA8BF,QAFf;AAGzBC,QAAAA,MAAM,EAAE,KAAKJ,QAAL,CAAcC,SAAd,CAAwBI,KAAxB,CAA8BD,MAA9B,CAAqCE,EAHpB;AAIzBoD,QAAAA,CAAC,EAAE,KAAK9B,KAAL,CAAWG;AAJW,OAAD,CAA5B;;AAOA,YAAM4B,aAAa,GAAG,MAAM;AACxB,eAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,gBAAMC,YAAY,GAAG,KAAKhE,GAAL,CAASG,MAAT,CAAgB,KAAKmB,OAArB,CAArB;AACAmC,UAAAA,KAAK,CAAC;AACFC,YAAAA,OAAO,EAAEM,YADP;AAEF5D,YAAAA,QAAQ,EAAE,KAAKH,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BC,QAFvC;AAGFC,YAAAA,MAAM,EAAE,KAAKJ,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BE,MAHrC;AAIF4D,YAAAA,UAAU,EAAEV,GAAG,KAAK,MAAR,GAAiB,KAAK9B,IAAL,CAAUY,MAA3B,GAAoC,CAAC,CAAD,GAAG,KAAKZ,IAAL,CAAUY,MAJ3D;AAKF6B,YAAAA,QAAQ,EAAE,MAAM;AACZF,cAAAA,YAAY,CAACG,SAAb,CAAuBC,MAAvB,CAA8B,gBAA9B;AACAN,cAAAA,OAAO;AACV;AARC,WAAD,CAAL;AAWA,gBAAMO,iBAAiB,GAAG,KAAKrE,GAAL,CAASmB,YAAT,CAAsB,KAAKG,OAA3B,CAA1B;AACAmC,UAAAA,KAAK,CAAC;AACFC,YAAAA,OAAO,EAAEW,iBAAiB,CAACC,QADzB;AAEFlE,YAAAA,QAAQ,EAAE,KAAKH,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BC,QAFvC;AAGFC,YAAAA,MAAM,EAAE,KAAKJ,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BE,MAHrC;AAIFkE,YAAAA,KAAK,EAAE,CAACC,CAAD,EAAGC,CAAH,EAAKC,KAAL,KAAenB,GAAG,KAAK,MAAR,GAAiBkB,CAAC,GAAC,GAAnB,GAAyB,CAACC,KAAK,GAACD,CAAN,GAAQ,CAAT,IAAY,GAJzD;AAKFR,YAAAA,UAAU,EAAE,CAAC,CAAD,EAAIV,GAAG,KAAK,MAAR,GAAiB,GAAjB,GAAuB,CAAC,GAA5B,CALV;AAMFoB,YAAAA,OAAO,EAAE,CAAC,CAAD,EAAG,CAAH,CANP;AAOFT,YAAAA,QAAQ,EAAE,MAAM;AACZG,cAAAA,iBAAiB,CAACF,SAAlB,CAA4BC,MAA5B,CAAmC,gBAAnC;AACAN,cAAAA,OAAO;AACV;AAVC,WAAD,CAAL;AAaA,eAAKxC,OAAL,GAAeiC,GAAG,KAAK,MAAR,GACX,KAAKjC,OAAL,GAAe,KAAKR,WAAL,GAAiB,CAAhC,GAAoC,KAAKQ,OAAL,GAAe,CAAnD,GAAuD,CAD5C,GAEX,KAAKA,OAAL,GAAe,CAAf,GAAmB,KAAKA,OAAL,GAAe,CAAlC,GAAsC,KAAKR,WAAL,GAAiB,CAF3D;AAIA,gBAAM8D,QAAQ,GAAG,KAAK5E,GAAL,CAASG,MAAT,CAAgB,KAAKmB,OAArB,CAAjB;AACAsD,UAAAA,QAAQ,CAACT,SAAT,CAAmBU,GAAnB,CAAuB,gBAAvB;AACApB,UAAAA,KAAK,CAAC;AACFC,YAAAA,OAAO,EAAEkB,QADP;AAEFxE,YAAAA,QAAQ,EAAE,KAAKH,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BC,QAFvC;AAGFC,YAAAA,MAAM,EAAE,KAAKJ,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BE,MAHrC;AAIF4D,YAAAA,UAAU,EAAE,CAACV,GAAG,KAAK,MAAR,GAAiB,CAAC,CAAD,GAAG,KAAK9B,IAAL,CAAUY,MAA9B,GAAuC,KAAKZ,IAAL,CAAUY,MAAlD,EAAyD,CAAzD;AAJV,WAAD,CAAL;AAOA,gBAAMyC,WAAW,GAAGF,QAAQ,CAAC3D,aAAT,CAAuB,aAAvB,CAApB;AAEAwC,UAAAA,KAAK,CAACW,MAAN,CAAaU,WAAb;AACArB,UAAAA,KAAK,CAAC;AACFC,YAAAA,OAAO,EAAEoB,WADP;AAEF1E,YAAAA,QAAQ,EAAE,KAAKH,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BC,QAA/B,GAAwC,CAFhD;AAGFC,YAAAA,MAAM,EAAE,KAAKJ,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BE,MAHrC;AAIF4D,YAAAA,UAAU,EAAE,CAACV,GAAG,KAAK,MAAR,GAAiB,CAAC,GAAlB,GAAwB,GAAzB,EAA8B,CAA9B,CAJV;AAKFwB,YAAAA,KAAK,EAAE,CAAC,GAAD,EAAK,CAAL;AALL,WAAD,CAAL;AAQA,gBAAMC,aAAa,GAAG,KAAKhF,GAAL,CAASmB,YAAT,CAAsB,KAAKG,OAA3B,CAAtB;AACA0D,UAAAA,aAAa,CAACb,SAAd,CAAwBU,GAAxB,CAA4B,gBAA5B;AACApB,UAAAA,KAAK,CAAC;AACFC,YAAAA,OAAO,EAAEsB,aAAa,CAACV,QADrB;AAEFlE,YAAAA,QAAQ,EAAE,KAAKH,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BC,QAA/B,GAAwC,GAFhD;AAGFC,YAAAA,MAAM,EAAE,KAAKJ,QAAL,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BE,MAHrC;AAIFkE,YAAAA,KAAK,EAAE,CAACC,CAAD,EAAGC,CAAH,EAAKC,KAAL,KAAenB,GAAG,KAAK,MAAR,GAAiBkB,CAAC,GAAC,GAAF,GAAM,GAAvB,GAA6B,CAACC,KAAK,GAACD,CAAN,GAAQ,CAAT,IAAY,GAAZ,GAAgB,GAJjE;AAKFR,YAAAA,UAAU,EAAE,CAACV,GAAG,KAAK,MAAR,GAAiB,CAAC,GAAlB,GAAwB,GAAzB,EAA8B,CAA9B,CALV;AAMFoB,YAAAA,OAAO,EAAE,CAAC,CAAD,EAAG,CAAH;AANP,WAAD,CAAL;AAQH,SA7DM,CAAP;AA8DH,OA/DD;;AAiEA,YAAMM,eAAe,GAAG,MAAM;AAC1BxB,QAAAA,KAAK,CAAC;AACFC,UAAAA,OAAO,EAAE,KAAK1D,GAAL,CAASM,KADhB;AAEFF,UAAAA,QAAQ,EAAE,KAAKH,QAAL,CAAcC,SAAd,CAAwBI,KAAxB,CAA8BF,QAFtC;AAGFC,UAAAA,MAAM,EAAE,KAAKJ,QAAL,CAAcC,SAAd,CAAwBI,KAAxB,CAA8BD,MAA9B,CAAqCG,GAH3C;AAIFmD,UAAAA,CAAC,EAAE,KAAK9B,KAAL,CAAWC,OAJZ;AAKFoC,UAAAA,QAAQ,EAAE,MAAM,KAAKzB,WAAL,GAAmB;AALjC,SAAD,CAAL;AAOH,OARD;;AAUAe,MAAAA,cAAc,CAAC0B,QAAf,CAAwBC,IAAxB,CAA6BvB,aAA7B,EAA4CuB,IAA5C,CAAiDF,eAAjD;AACH;;AArLW;;AAsLf;AAED,MAAItF,SAAJ,CAAcuC,QAAQ,CAACjB,aAAT,CAAuB,YAAvB,CAAd;AACAmE,EAAAA,YAAY,CAAC,aAAD,EAAgB;AAAEC,IAAAA,UAAU,EAAE;AAAd,GAAhB,EAAsC,MAAMnD,QAAQ,CAACoD,IAAT,CAAcnB,SAAd,CAAwBC,MAAxB,CAA+B,SAA/B,CAA5C,CAAZ;AACH;AAAA","sourcesContent":["/**\n * demo2.js\n * http://www.codrops.com\n *\n * Licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n * \n * Copyright 2017, Codrops\n * http://www.codrops.com\n */\n{\n    // From https://davidwalsh.name/javascript-debounce-function.\n\tfunction debounce(func, wait, immediate) {\n\t\tvar timeout;\n\t\treturn function() {\n\t\t\tvar context = this, args = arguments;\n\t\t\tvar later = function() {\n\t\t\t\ttimeout = null;\n\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t};\n\t\t\tvar callNow = immediate && !timeout;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t\tif (callNow) func.apply(context, args);\n\t\t};\n    };\n    \n    class Slideshow {\n        constructor(el) {\n            console.log(el);\n            this.DOM = {};\n            this.DOM.el = el;\n            this.settings = {\n                animation: {\n                    slides: {\n                        duration: 500,\n                        easing: 'easeOutQuint'\n                    },\n                    shape: {\n                        duration: 300,\n                        easing: {in: 'easeOutQuint', out: 'easeOutQuad'}\n                    }\n                },\n                frameFill: 'url(#gradient1)'\n            }\n            this.init();\n        }\n        init() {\n            this.DOM.slides = Array.from(this.DOM.el.querySelectorAll('.slides--images > .slide'));\n            this.slidesTotal = this.DOM.slides.length;\n            this.DOM.nav = this.DOM.el.querySelector('.slidenav');\n            this.DOM.titles = this.DOM.el.querySelector('.slides--titles');\n            this.DOM.titlesSlides = Array.from(this.DOM.titles.querySelectorAll('.slide'));\n            this.DOM.nextCtrl = this.DOM.nav.querySelector('.slidenav__item--next');\n            this.DOM.prevCtrl = this.DOM.nav.querySelector('.slidenav__item--prev');\n            this.current = 0;\n            this.createFrame(); \n            this.initEvents();\n        }\n        createFrame() {\n            this.rect = this.DOM.el.getBoundingClientRect();\n            this.frameSize = this.rect.width/12;\n            this.paths = {\n                initial: this.calculatePath('initial'),\n                final: this.calculatePath('final')\n            };\n            this.DOM.svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            this.DOM.svg.setAttribute('class', 'shape');\n            this.DOM.svg.setAttribute('width','100%');\n            this.DOM.svg.setAttribute('height','100%');\n            this.DOM.svg.setAttribute('viewbox',`0 0 ${this.rect.width} ${this.rect.height}`);\n            this.DOM.svg.innerHTML = `\n            <defs>\n            <linearGradient id=\"gradient1\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#09012d\"/>\n                <stop offset=\"100%\" stop-color=\"#0f2b73\"/>\n            </linearGradient>\n            </defs>\n            <path fill=\"${this.settings.frameFill}\" d=\"${this.paths.initial}\"/>`;\n            this.DOM.el.insertBefore(this.DOM.svg, this.DOM.titles);\n            this.DOM.shape = this.DOM.svg.querySelector('path');\n        }\n        updateFrame() {\n            this.paths.initial = this.calculatePath('initial');\n            this.paths.final = this.calculatePath('final');\n            this.DOM.svg.setAttribute('viewbox',`0 0 ${this.rect.width} ${this.rect.height}`);\n            this.DOM.shape.setAttribute('d', this.isAnimating ? this.paths.final : this.paths.initial);\n        }\n        calculatePath(path = 'initial') {\n\n            if ( path === 'initial' ) {\n                return `M 0,0 0,${this.rect.height} ${this.rect.width},${this.rect.height} ${this.rect.width},0 0,0 Z M 0,0 ${this.rect.width},0 ${this.rect.width},${this.rect.height} 0,${this.rect.height} Z`;\n            }\n            else {\n                const point1 = {x: this.rect.width/4-50, y: this.rect.height/4+50};\n                const point2 = {x: this.rect.width/4+50, y: this.rect.height/4-50};\n                const point3 = {x: this.rect.width-point2.x, y: this.rect.height-point2.y};\n                const point4 = {x: this.rect.width-point1.x, y: this.rect.height-point1.y};\n\n                return `M 0,0 0,${this.rect.height} ${this.rect.width},${this.rect.height} ${this.rect.width},0 0,0 Z M ${point1.x},${point1.y} ${point2.x},${point2.y} ${point4.x},${point4.y} ${point3.x},${point3.y} Z`;\n            }\n        }\n        initEvents() {\n            this.DOM.nextCtrl.addEventListener('click', () => this.navigate('next'));\n            this.DOM.prevCtrl.addEventListener('click', () => this.navigate('prev'));\n            \n            window.addEventListener('resize', debounce(() => {\n                this.rect = this.DOM.el.getBoundingClientRect();\n                this.updateFrame();\n            }, 20));\n            \n            document.addEventListener('keydown', (ev) => {\n                const keyCode = ev.keyCode || ev.which;\n                if ( keyCode === 37 ) {\n                    this.navigate('prev');\n                }\n                else if ( keyCode === 39 ) {\n                    this.navigate('next');\n                }\n            });\n        }\n        navigate(dir = 'next') {\n            if ( this.isAnimating ) return false;\n            this.isAnimating = true;\n\n            const animateShapeIn = anime({\n                targets: this.DOM.shape,\n                duration: this.settings.animation.shape.duration,\n                easing: this.settings.animation.shape.easing.in,\n                d: this.paths.final\n            });\n\n            const animateSlides = () => {\n                return new Promise((resolve, reject) => {\n                    const currentSlide = this.DOM.slides[this.current];\n                    anime({\n                        targets: currentSlide,\n                        duration: this.settings.animation.slides.duration,\n                        easing: this.settings.animation.slides.easing,\n                        translateY: dir === 'next' ? this.rect.height : -1*this.rect.height,\n                        complete: () => {\n                            currentSlide.classList.remove('slide--current');\n                            resolve();\n                        }\n                    });\n\n                    const currentTitleSlide = this.DOM.titlesSlides[this.current];\n                    anime({\n                        targets: currentTitleSlide.children,\n                        duration: this.settings.animation.slides.duration,\n                        easing: this.settings.animation.slides.easing,\n                        delay: (t,i,total) => dir === 'next' ? i*100 : (total-i-1)*100,\n                        translateY: [0, dir === 'next' ? 100 : -100],\n                        opacity: [1,0],\n                        complete: () => {\n                            currentTitleSlide.classList.remove('slide--current');\n                            resolve();\n                        }\n                    });\n        \n                    this.current = dir === 'next' ? \n                        this.current < this.slidesTotal-1 ? this.current + 1 : 0 :\n                        this.current > 0 ? this.current - 1 : this.slidesTotal-1; \n                    \n                    const newSlide = this.DOM.slides[this.current];\n                    newSlide.classList.add('slide--current');\n                    anime({\n                        targets: newSlide,\n                        duration: this.settings.animation.slides.duration,\n                        easing: this.settings.animation.slides.easing,\n                        translateY: [dir === 'next' ? -1*this.rect.height : this.rect.height,0]\n                    });\n        \n                    const newSlideImg = newSlide.querySelector('.slide__img');\n                    \n                    anime.remove(newSlideImg);\n                    anime({\n                        targets: newSlideImg,\n                        duration: this.settings.animation.slides.duration*3,\n                        easing: this.settings.animation.slides.easing,\n                        translateY: [dir === 'next' ? -100 : 100, 0],\n                        scale: [0.2,1]\n                    });\n                    \n                    const newTitleSlide = this.DOM.titlesSlides[this.current];\n                    newTitleSlide.classList.add('slide--current');\n                    anime({\n                        targets: newTitleSlide.children,\n                        duration: this.settings.animation.slides.duration*1.5,\n                        easing: this.settings.animation.slides.easing,\n                        delay: (t,i,total) => dir === 'next' ? i*100+100 : (total-i-1)*100+100,\n                        translateY: [dir === 'next' ? -100 : 100 ,0],\n                        opacity: [0,1]\n                    });\n                });\n            };\n\n            const animateShapeOut = () => {\n                anime({\n                    targets: this.DOM.shape,\n                    duration: this.settings.animation.shape.duration,\n                    easing: this.settings.animation.shape.easing.out,\n                    d: this.paths.initial,\n                    complete: () => this.isAnimating = false\n                });\n            }\n\n            animateShapeIn.finished.then(animateSlides).then(animateShapeOut);\n        }\n    };\n\n    new Slideshow(document.querySelector('.slideshow'));\n    imagesLoaded('.slide__img', { background: true }, () => document.body.classList.remove('loading'));\n};"]},"metadata":{},"sourceType":"module"}